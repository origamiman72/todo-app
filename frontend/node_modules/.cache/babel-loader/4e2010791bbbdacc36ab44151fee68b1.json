{"ast":null,"code":"var _jsxFileName = \"/Users/abhikahuja/Documents/Projects/todo-app/frontend/src/Tasks/Task.js\";\nimport React, { Component } from 'react';\nimport DateUI from '../components/dateUI/dateUI';\nimport './Task.scss';\nimport IconButton from '@material-ui/core/IconButton';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Button from '@material-ui/core/Button';\nimport CategoryMenu from '../components/categoryMenu/categoryMenu';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport { KeyboardDatePicker, MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport MomentUtils from '@date-io/moment';\nimport moment from 'moment';\nimport { TextField } from '@material-ui/core';\n\nfunction TaskMenu(props) {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: props.className,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    \"aria-controls\": \"simple-menu\",\n    \"aria-haspopup\": \"true\",\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MoreHorizIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Menu, {\n    id: \"simple-menu\",\n    anchorEl: anchorEl,\n    keepMounted: true,\n    open: Boolean(anchorEl),\n    onClose: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }\n  }, !props.complete && /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: () => {\n      handleClose();\n      props.edit();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, \"Edit Task\"), /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: () => {\n      handleClose();\n      props.remove();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, \"Delete Task\")));\n}\n\nclass Task extends Component {\n  constructor(props) {\n    super(props);\n    console.log(this.props);\n    this.deleteSelf = this.deleteSelf.bind(this);\n    this.completeSelf = this.completeSelf.bind(this);\n    this.cancelEditing = this.cancelEditing.bind(this);\n    this.editSelf = this.editSelf.bind(this);\n    this.startEditing = this.startEditing.bind(this);\n    this.editCategory = this.editCategory.bind(this);\n    this.updateDate = this.updateDate.bind(this);\n    var date = this.props.task.dueDate && new Date(this.props.task.dueDate);\n    this.state = {\n      editing: false,\n      // date: this.props.task.date,\n      // dueDate = this.props.task.dueDate,\n      complete: this.props.task.completed,\n      content: this.props.task.content,\n      _id: this.props.task._id,\n      category: this.props.task.category,\n      month: date && date.getMonth() + 1,\n      day: date && date.getDate(),\n      year: date && date.getFullYear(),\n      date: date // dueDate: this.props.dueDate && Date(this.props.dueDate),\n\n    };\n  }\n\n  updateDate(date) {\n    this.setState({\n      date: date\n    });\n  }\n\n  completeSelf() {\n    this.setState({\n      complete: !this.state.complete\n    });\n    this.props.complete(this.state._id);\n  }\n\n  deleteSelf() {\n    this.props.remove(this.state._id);\n  }\n\n  startEditing() {\n    this.setState({\n      editing: true\n    });\n  }\n\n  editSelf(e) {\n    e.preventDefault();\n    this.props.edit(this.state._id, this._inputElement.value, this.state.category, this.state.date);\n    var date = this.state.date && new Date(this.state.date);\n    this.setState({\n      editing: false,\n      content: this._inputElement.value,\n      month: date && date.getMonth() + 1,\n      day: date && date.getDate(),\n      year: date && date.getFullYear(),\n      category: this.category\n    });\n  }\n\n  cancelEditing(e) {\n    this.setState({\n      editing: false\n    });\n  }\n\n  editCategory(category) {\n    this.category = category;\n  }\n\n  render() {\n    let content;\n\n    if (this.state.editing) {\n      content = /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.editSelf,\n        className: \"row\",\n        id: \"editTaskForm\",\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(TextField, {\n        onKeyPress: ev => {\n          if (ev.key === 'Enter') {\n            this.editSelf(ev);\n          }\n        },\n        className: \"editTaskContent\",\n        placeholder: \"Edit this Task.\",\n        defaultValue: this.state.content,\n        required: true,\n        id: \"standard-basic\",\n        inputRef: a => this._inputElement = a,\n        label: \"Edit Task\",\n        variant: \"standard\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(MuiPickersUtilsProvider, {\n        libInstance: moment,\n        utils: MomentUtils,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(KeyboardDatePicker, {\n        clearable: true,\n        className: \"DatePicker\",\n        value: this.state.date,\n        onChange: date => this.updateDate(date),\n        label: \"Due Date\",\n        format: \"MM/DD/yyyy\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(Button, {\n        color: \"primary\",\n        onClick: this.editSelf,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }\n      }, \"Save\"), /*#__PURE__*/React.createElement(Button, {\n        color: \"primary\",\n        onClick: this.cancelEditing,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 21\n        }\n      }, \"Cancel\"));\n    } else {\n      content = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row left-align\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Checkbox, {\n        onChange: () => this.completeSelf(),\n        checked: this.state.complete,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 55\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"taskContent\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 17\n        }\n      }, this.state.content, this.props.displayDate && this.state.date && /*#__PURE__*/React.createElement(DateUI, {\n        month: this.state.month,\n        day: this.state.day,\n        year: this.state.year,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 21\n        }\n      })));\n    }\n\n    return /*#__PURE__*/React.createElement(\"li\", {\n      className: this.state.complete && \"completed\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      key: this.state.date,\n      className: \"Task\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 21\n      }\n    }, content), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"right-aligned row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 21\n      }\n    }, this.state.editing && /*#__PURE__*/React.createElement(CategoryMenu, {\n      className: \"categoryLabel\",\n      label: this.state.category,\n      setCategory: this.editCategory,\n      categories: this.props.categories,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 25\n      }\n    }), !this.state.editing && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"categoryLabel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 25\n      }\n    }, this.state.category), this.props.displayMenu && /*#__PURE__*/React.createElement(TaskMenu, {\n      className: \"categoryLabel\",\n      complete: this.state.complete,\n      edit: this.startEditing,\n      remove: this.deleteSelf,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 25\n      }\n    }))));\n  }\n\n}\n\nexport default Task;","map":{"version":3,"sources":["/Users/abhikahuja/Documents/Projects/todo-app/frontend/src/Tasks/Task.js"],"names":["React","Component","DateUI","IconButton","MoreHorizIcon","Menu","MenuItem","Button","CategoryMenu","Checkbox","KeyboardDatePicker","MuiPickersUtilsProvider","MomentUtils","moment","TextField","TaskMenu","props","anchorEl","setAnchorEl","useState","handleClick","event","currentTarget","handleClose","className","Boolean","complete","edit","remove","Task","constructor","console","log","deleteSelf","bind","completeSelf","cancelEditing","editSelf","startEditing","editCategory","updateDate","date","task","dueDate","Date","state","editing","completed","content","_id","category","month","getMonth","day","getDate","year","getFullYear","setState","e","preventDefault","_inputElement","value","render","ev","key","a","displayDate","categories","displayMenu"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport DateUI from '../components/dateUI/dateUI';\nimport './Task.scss';\nimport IconButton from '@material-ui/core/IconButton';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Button from '@material-ui/core/Button';\nimport CategoryMenu from '../components/categoryMenu/categoryMenu';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport { KeyboardDatePicker, MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport MomentUtils from '@date-io/moment';\nimport moment from 'moment';\nimport { TextField } from '@material-ui/core';\n\nfunction TaskMenu(props) {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <div className={props.className}>\n      {/* <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n        Open Menu\n      </Button> */}\n        <IconButton aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n            <MoreHorizIcon />\n        </IconButton>\n    <Menu\n        id=\"simple-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n        >\n        {!props.complete &&\n            <MenuItem onClick={() => {\n                handleClose();\n                props.edit();\n            }}>Edit Task</MenuItem>\n        }\n        <MenuItem onClick={() => {\n                handleClose();\n                props.remove();\n            }}>Delete Task</MenuItem>\n      </Menu>\n    </div>\n  );\n}\n\nclass Task extends Component {\n    constructor(props) {\n        super(props);\n\n        console.log(this.props)\n        this.deleteSelf = this.deleteSelf.bind(this);\n        this.completeSelf = this.completeSelf.bind(this);\n        this.cancelEditing = this.cancelEditing.bind(this);\n        this.editSelf = this.editSelf.bind(this);\n        this.startEditing = this.startEditing.bind(this);\n        this.editCategory = this.editCategory.bind(this);\n        this.updateDate = this.updateDate.bind(this);\n        var date = this.props.task.dueDate && new Date(this.props.task.dueDate);\n\n        this.state = {\n            editing: false,\n            // date: this.props.task.date,\n            // dueDate = this.props.task.dueDate,\n            complete: this.props.task.completed,\n            content: this.props.task.content,\n            _id: this.props.task._id,\n            category: this.props.task.category,\n            month: date && (date.getMonth() + 1),\n            day: date && date.getDate(),\n            year: date && date.getFullYear(),\n            date: date,\n            // dueDate: this.props.dueDate && Date(this.props.dueDate),\n        }\n    }\n\n    updateDate(date) {\n        this.setState({\n            date: date,\n        })\n    }\n\n    completeSelf() {\n        this.setState({\n            complete: !this.state.complete\n        })\n        this.props.complete(this.state._id);\n    }\n\n    deleteSelf() {\n        this.props.remove(this.state._id);\n    }\n\n    startEditing() {\n        this.setState({\n            editing: true,\n        });\n    }\n\n    editSelf(e) {\n        e.preventDefault();\n        this.props.edit(this.state._id, this._inputElement.value, this.state.category, this.state.date);\n        var date = this.state.date && new Date(this.state.date);\n        this.setState({\n            editing: false,\n            content: this._inputElement.value,\n            month: date && (date.getMonth() + 1),\n            day: date && date.getDate(),\n            year: date && date.getFullYear(),\n            category: this.category,\n        });\n    }\n\n    cancelEditing(e) {\n        this.setState({\n            editing: false,\n        })\n    }\n\n    editCategory(category) {\n        this.category = category;\n    }\n\n\n    render() {\n        let content;\n        if (this.state.editing) {\n            content = (\n                <form onSubmit={this.editSelf} className=\"row\" id=\"editTaskForm\" className=\"form-group\">\n                    {/* <input className=\"\" placeholder=\"Edit this task.\"\n                                        defaultValue={this.state.content} \n                                        ref={(a) => this._inputElement = a}\n                        type=\"text\"></input> */}\n                        <TextField onKeyPress={(ev) => {\n                            if (ev.key === 'Enter') {\n                                this.editSelf(ev);\n                            }\n                            }} \n                            className=\"editTaskContent\"\n                            placeholder=\"Edit this Task.\"\n                            defaultValue={this.state.content}\n                            required id=\"standard-basic\"\n                            inputRef={(a) => this._inputElement = a}\n                            label=\"Edit Task\"\n                            variant=\"standard\" />\n                    {/* <DatePicker showTimeSelect placeholderText=\"Due Date\" selected={this.state.selectedDate} onChange={(date) => {this.updateDate(date)}} /> */}\n                            <MuiPickersUtilsProvider libInstance={moment} utils={MomentUtils}>\n                        <KeyboardDatePicker\n                            clearable\n                            className=\"DatePicker\"\n                            value={this.state.date}\n                            onChange={(date) => this.updateDate(date)}\n                            label=\"Due Date\"\n                            format=\"MM/DD/yyyy\"\n                        />\n                        </MuiPickersUtilsProvider>\n                    <Button color=\"primary\" onClick={this.editSelf}>Save</Button>\n                    <Button color=\"primary\" onClick={this.cancelEditing}>Cancel</Button>\n                </form>\n            )\n        } else {\n            content = <div className=\"row left-align\"><Checkbox onChange={() => this.completeSelf()} checked={this.state.complete} />\n                <div className=\"taskContent\">\n                    {this.state.content}\n                {this.props.displayDate && this.state.date &&\n                    <DateUI\n                        month={this.state.month}\n                        day={this.state.day}\n                        year={this.state.year}\n                    />\n                }\n                </div>\n            </div>\n        }\n\n        return (\n            <li className={this.state.complete && \"completed\"}>\n                <div key={this.state.date} className=\"Task\">\n                    <div>\n                    {content}\n                    </div>\n                    <div className=\"right-aligned row\">\n\n                    {this.state.editing &&\n                        <CategoryMenu className=\"categoryLabel\" label={this.state.category} setCategory={this.editCategory} categories={this.props.categories} />\n                    }\n                    {!this.state.editing &&\n                        <div className=\"categoryLabel\">{this.state.category}</div>\n                    }\n                    {this.props.displayMenu &&\n                        <TaskMenu className=\"categoryLabel\" complete={this.state.complete} edit={this.startEditing} remove={this.deleteSelf} />\n                    }\n                    </div>\n                </div>\n            </li>\n        )\n    }\n}\n\nexport default Task;"]},"metadata":{},"sourceType":"module"}